---
title: Authentication protocols in agents
description: Learn about OAuth 2.0 protocols and token exchange patterns for agentic applications in Microsoft Entra ID. Key concepts
 
author: SHERMANOUKO
ms.author: shermanouko
ms.service: entra-id
ms.topic: concept-article
ms.date: 11/04/2025
ms.reviewer: jmprieur
 
#customer-intent: As a developer or identity architect, I want to understand the OAuth 2.0 authentication protocols and token flows for agentic applications, so that I can implement secure authentication patterns for Agent identity blueprints and Agent Identities in my applications.
---
 
# Authentication protocols in agents
 
Agentic applications use OAuth 2.0 protocols with specialized token exchange patterns enabled by Federated Identity Credentials (FIC). All agentic flows involve multi-stage token exchanges where the agent identity blueprint (agent ID blueprint) impersonates the agent identity (agent ID) to perform operations. This article explains the authentication protocols and token flows used by agentic applications. It covers delegation scenarios, autonomous operations, and federated identity credential patterns. Microsoft recommends that you use our SDKs like [Entra SDK for Agent IDs](https://aka.ms/entra/sdk/agentid) since implementing these protocol steps isn't easy.
 
The agentic model supports different creation patterns that affect protocol flows. Manually created agent identity blueprints are established through Microsoft Entra ID developer portals with MSI or FIC credentials. Builder created agent identity blueprints are generated by platform applications using same-cloud first-party FIC credentials. These creation patterns determine the specific authentication requirements and credential management approaches for each application type.
 
All agentic entities are confidential clients that can also serve as APIs for On-Behalf-Of scenarios. Interactive flows aren't supported for any agentic entity type, ensuring that all authentication occurs through programmatic token exchanges rather than user interaction flows.
 
[!INCLUDE [Use Microsoft SDKs](./includes/use-microsoft-sdks.md)]
 
## Prerequisites
 
If you aren't familiar already, go through the following protocol docs.
 
- [Microsoft identity platform and OAuth 2.0 On-Behalf-Of flow](/entra/identity-platform/v2-oauth2-on-behalf-of-flow)
- [Microsoft identity platform and the OAuth 2.0 client credentials flow](/entra/identity-platform/v2-oauth2-client-creds-grant-flow)
 
## Supported grant types
 
The following are the supported grant types for agentic applications.
 
### Agent identity blueprint
 
Agent identity blueprints support `client_credentials` for FIC exchanges and approved API calls, enabling secure token acquisition for impersonation scenarios. The `jwt-bearer` grant type facilitates token exchanges in [On-Behalf Of scenarios](/entra/identity-platform/v2-oauth2-on-behalf-of-flow), allowing for sophisticated delegation patterns. `refresh_token` grants enable background operations with user context, supporting long-running processes that maintain user authorization.
 
### Agent identity (Agent ID)
 
Agent IDs use `client_credentials` for app-only autonomous operations, enabling independent functionality without user context, and FIC impersonation for a user agent identity. The `jwt-bearer` grant type supports both [client credential flow](/entra/identity-platform/v2-oauth2-client-creds-grant-flow) and  [On-Behalf Of (OBO) flow](/entra/identity-platform/v2-oauth2-on-behalf-of-flow) providing flexibility in delegation patterns.`refresh_token` grants facilitate background user-delegated operations, allowing agent IDs to maintain user context across extended operations.
 
### Unsupported flows
 
The agentic application model explicitly excludes certain authentication patterns to maintain security boundaries. OBO flows using the `/authorize` endpoint aren't supported for any agentic entity, ensuring all authentication occurs programmatically.
 
Public client capabilities aren't available, requiring all agentic entities to operate as confidential clients. Redirect URLs aren't supported.
 
## Core protocol patterns
 
Agents can operate in three primary modes:
 
- Agents operating on behalf of regular users in Microsoft Entra ID (interactive agents). This is a regular on-behalf-of flow.
- Agents operating on their own behalf using service principals created for agents (autonomous).
- Agents operating on their own behalf using user principals created specifically for that agent (for instance agents having their own mailbox).
 
Additionally, agent builders allow platforms to create individual Agent APIs or self-hosted agentic applications using a different kind of flow.
 
[!INCLUDE [Managed identities support](./includes/managed-identities-preffered.md)]
 
[!INCLUDE [Dont use secrets](./includes/dont-use-secrets.md)]
 
## Oauth protocols
 
There are three agent oauth flows:
 
:::image type="content" source="media/agentic-oauth-protocols/agent-flows.png" alt-text="Diagram showing the illustration of oauth flow for agents.":::
 
- [Agent on-behalf of flow](): Agents operating on behalf of regular users (interactive agents).
- [Autonomous app flow](): App-only operations enable agent IDs to act autonomously without user context.
- [Agent user flow](): Agents operating on their own behalf using user principals created specifically for agents.
 
## Related content
 
- [Autonomous app flow in agents](./agent-autonomous-app-oauth-flow.md)
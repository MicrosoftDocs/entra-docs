### YamlMime:FAQ
metadata:
  title: Transport Layer Security Inspection Frequently Asked Questions   
  description: "Get answers to common questions about Transport Layer Security (TLS) inspection."
  author: HULKsmashGithub
  ms.author: jayrusso
  ms.topic: faq   
  ms.date: 05/28/2025

title: Frequently asked questions for Transport Layer Security inspection   
summary: |
  This article answers frequently asked questions about Transport Layer Security inspection.   

sections:
  - name: Single section - ignored
    questions:
      - question: What is Transport Layer Security (TLS) inspection? 
        answer: |
          TLS inspection decrypts and analyzes encrypted network traffic to help organizations detect threats, enforce security policies, and prevent data exfiltration. With the majority of internet traffic now encrypted, 
          TLS inspection provides visibility into data flows that would otherwise be opaque to security tools. TLS inspection enables enterprises to apply advanced protections such as content filtering without compromising 
          the confidentiality of legitimate communications.  

      - question: How does TLS inspection work? 
        answer: |
          TLS inspection enables organizations to analyze encrypted network traffic by decrypting it for security inspection and re-encrypting it before forwarding it to its destination.
          To implement TLS inspection effectively, consider the following operational best practices:
          - Communicate clearly with users: Before enabling TLS inspection in a production environment, ensure users are informed about how encrypted traffic is handled. Many organizations choose to provide a Terms of Use (ToU) or similar notice.
          - Select a certificate authority: Choose a root or intermediate certificate authority to sign the Certificate Signing Request (CSR) created by Global Secure Access for TLS inspection.
          - Define a TLS policy: Configure a TLS inspection policy that aligns with your organization's security and operational requirements.
          - Configure Conditional Access: Create a Conditional Access policy and associate it with the Global Secure Access security profile linked to the TLS policy.
          - Distribute the trusted certificate: Ensure the selected certificate authority is installed on all client devices to establish trust and enable seamless TLS inspection.
          
      - question: What are the cryptographic algorithms supported when generating Certificates for TLS inspection? 
        answer: Global Secure Access currently supports SHA-256, SHA-384, and SHA-512 for the signing certificates.
        
      - question: How do I Sign CSR Using the Active Directory Certificate Services (AD CS)
        answer: |
          TLS inspection requires an intermediate certificate authority, ensure you are using the Subordinate CA template. To sign CSR generated from TLS settings,
          you may use AD CS web enrollment UI or use the certreq command-line tool. 
          ```cmd
          certreq -submit -attrib "CertificateTemplate:SubCA" "C:\pathtoyourCSR\tlsca.csr" "tlsca.cer"
          ```
      
      - question: What is certificate pinning, and how does it affect TLS inspection? 
        answer: |
          Certificate pinning is a security mechanism that restricts an application's TLS connections to a specific set of trusted certificates or public keys. Certificate pinning ensures that the application only communicates with servers presenting those exact credentials, even if other certificates are valid and trusted by the system.
          This technique helps defend against man-in-the-middle (MITM) attacks by preventing unauthorized interception of encrypted traffic. However, it also interferes with network security tools that rely on TLS inspection, which works by decrypting and re-encrypting traffic using an intermediary certificate.
          
      - question: How should I handle applications that use certificate pinning? 
        answer: |
          The connection fails if TLS inspection terminates traffic from applications that use certificate pinning. To ensure your applications work as expected, create a custom bypass rule in the traffic forwarding profile to exclude traffic from these applications from Global Secure Access. You can perform this operation as part of custom bypass in the [Internet access forwarding profile](/mem/intune/protect/compliance-custom-script). We're working on custom TLS rules to let you acquire traffic and bypass TLS inspection only.      

      - question: What destinations are included in the system bypass?
        answer: |
          System bypass list includes known destinations that use certificate pinning or have other incompatibilities with TLS inspection. 
          These destinations are automatically excluded from TLS inspection to ensure proper functionality. The system bypass list is regularly updated to include new destinations as they are identified. A few examples of destinations in the system bypass list include:
          - Adobe CRS
          - AplusPC UCC Regions
          - App Center
          - Apple ESS Push Services
          - Azure Diagnostics
          - Azure IoT Hub
          - Azure Management
          - Azure WAN Listener
          - Centanet
          - Central Plaza e-Order
          - Cisco Umbrella Proxy
          - DocuSign
          - Dropbox
          - e-Szigno
          - Global Secure Access Diagnostics
          - Guardz Device Agent
          - iCloud
          - Likr Load Balancer
          - MediaTek
          - Microsigner
          - Microsoft Graph
          - Microsoft Login Services
          - O2 Moje Login
          - OpenSpace Solutions
          - Power BI External
          - Signal
          - TeamViewer
          - Visual Studio Telemetry
          - Webex
          - WhatsApp
          - Windows Update
          - ZDX Cloud
          - Zscaler Beta
          - Zscaler Two
          - Zoom

      - question: Is TLS 1.3 supported? 
        answer: Microsoft Entra TLS inspection enables TLS 1.2 and TLS 1.3 by default. The highest mutually supported version is selected for the session, from the client to Global Secure Access and from Global Secure Access to the destinations. Microsoft Entra doesn't support TLS 1.3 with Encrypted Client Hello (ECH) because the Server Name Indication (SNI) is encrypted, which prevents Global Secure Access from creating the corresponding leaf certificates for TLS termination.

      - question: What happens if I have legacy applications using less secure TLS versions, such as TLS 1.1?
        answer: We recommend bypassing TLS inspection for these destinations. TLS 1.2 is the minimum recommended version because older versions, like TLS 1.1 and TLS 1.0, aren't secure and are vulnerable to attacks. When possible, move these applications to support TLS 1.2 or higher.

      - question: Do you use hardware security modules (HSM) to protect keys?
        answer: We use software-protected keys. Global Secure Access intermediate certificate keys are stored in memory to dynamically generate leaf certificates for websites. While these keys aren't protected by an HSM, access to our servers is highly restricted, and we use strict security controls to safeguard key access and system integrity.

      - question: What other Global Secure Access features have dependencies on TLS inspection?
        answer: Content-based security controls have dependencies on TLS inspection, including URL filtering, File policies, Prompt policies, and enabling partner security solutions.

additionalContent: |
    ## Related content

    * [What is Transport Layer Security inspection?](concept-transport-layer-security.md)
    * [Configure Transport Layer Security](how-to-transport-layer-security.md)
